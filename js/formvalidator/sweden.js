/**
 * jQuery Form Validator Module: Security
 * ------------------------------------------
 * Created by Victor Jonsson <http://www.victorjonsson.se>
 * Documentation and issue tracking on Github <https://github.com/victorjonsson/jQuery-Form-Validator/>
 *
 * This form validation module adds validators typically used on swedish
 * websites. This module adds the following validators:
 *  - validate_swesec (Social security number)
 *  - validate_swemobile
 *  - validate_validate_municipality
 *  - validate_county
 *
 * @license Dual licensed under the MIT or GPL Version 2 licenses
 * @version 1.9.4
 */(function(a){a.formUtils.addValidator({name:"validate_swesc",validate:function(b){if(!b.match(/^(\d{4})(\d{2})(\d{2})(\d{4})$/))return!1;var c=RegExp.$1,d=a.formUtils.parseDateInt(RegExp.$2),e=a.formUtils.parseDateInt(RegExp.$3),f=new Array(31,28,31,30,31,30,31,31,30,31,30,31);if(c%400===0||c%4===0&&c%100!==0)f[1]=29;if(d<1||d>12||e<1||e>f[d-1])return!1;b=b.substring(2,b.length);var g="";for(var h=0;h<b.length;h++)g+=((h+1)%2+1)*b.substring(h,h+1);var i=0;for(h=0;h<g.length;h++)i+=parseInt(g.substring(h,h+1),10);return i%10===0},errorMessage:"",errorMessageKey:"badSecurityNumber"}),a.formUtils.addValidator({name:"validate_swemobile",validate:function(b){if(!a.formUtils.validators.validate_phone.validate(b))return!1;b=b.replace(/[^0-9]/g,"");var c=b.substring(0,3);return b.length!=10&&c!=="467"?!1:b.length!=11&&c==="467"?!1:/07[0-9{1}]/.test(c)||c==="467"&&b.substr(3,1)==="0"},errorMessage:"",errorMessageKey:"badTelephone"}),a.formUtils.addValidator({name:"validate_swecounty",validate:function(b){return b=b.toLowerCase(),a.inArray(b,this.counties)==-1?b.substr(-3).toLocaleLowerCase()!="län"?a.inArray(b+"s län",this.counties)>-1:!1:!0},errorMessage:"",errorMessageKey:"badCustomVal",counties:["stockholms län","uppsala län","södermanlands län","östergötlands län","jönköpings län","kronobergs län","kalmar län","gotlands län","blekinge län","skåne län","hallands län","västra götalands län","värmlands län","örebro län","västmanlands län","dalarnas län","gävleborgs län","västernorrlands län","jämtlands län","västerbottens län","norrbottens län"]}),a.formUtils.addValidator({name:"validate_swemunicipality",validate:function(b){b=b.toLowerCase();if(a.inArray(b,this.municipalities)==-1)return b.substr(-8)=="s kommun"&&a.inArray(b.substr(0,b.length-8),this.municipalities)>-1?!0:b.substr(-7)==" kommun"?a.inArray(b.substr(0,b.length-7),this.municipalities)>-1:!1;return!0},errorMessage:"",errorMessageKey:"badCustomVal",municipalities:["ale","alingsås","alvesta","aneby","arboga","arjeplog","arvidsjaur","arvika","askersund","avesta","bengtsfors","berg","bjurholm","bjuv","boden","bollebygd","bollnäs","borgholm","borlänge","borås","botkyrka","boxholm","bromölla","bräcke","burlöv","båstad","dals-ed","danderyd","degerfors","dorotea","eda","ekerö","eksjö","emmaboda","enköpings","eskilstuna","eslövs","essunga","fagersta","falkenberg","falköping","falu","filipstad","finspång","flen","forshaga","färgelanda","gagnef","gislaved","gnesta","gnosjö","gotland","grum","grästorp","gullspång","gällivare","gävle","göteborg","götene","habo","hagfor","hallsberg","hallstahammar","halmstad","hammarö","haninge","haparanda","heby","hedemora","helsingborg","herrljunga","hjo","hofor","huddinge","hudiksvall","hultsfred","hylte","håbo","hällefor","härjedalen","härnösand","härryda","hässleholm","höganäs","högsby","hörby","höör","jokkmokk","järfälla","jönköping","kalix","kalmar","karlsborg","karlshamn","karlskoga","karlskrona","karlstad","katrineholm","kil","kinda","kiruna","klippan","knivsta","kramfors","kristianstad","kristinehamn","krokoms","kumla","kungsbacka","kungsör","kungälv","kävlinge","köping","laholm","landskrona","laxå","lekeberg","leksand","lerum","lessebo","lidingö","lidköping","lilla edets","lindesbergs","linköpings","ljungby","ljusdals","ljusnarsbergs","lomma","ludvika","luleå","lunds","lycksele","lysekil","malmö","malung-sälen","malå","mariestad","marks","markaryd","mellerud","mjölby","mora","motala","mullsjö","munkedal","munkfors","mölndal","mönsterås","mörbylånga","nacka","nora","norberg","nordanstig","nordmaling","norrköping","norrtälje","norsjö","nybro","nykvarn","nyköping","nynäshamn","nässjö","ockelbo","olofström","orsa","orust","osby","oskarshamn","ovanåker","oxelösund","pajala","partille","perstorp","piteå","ragunda","robertsfors","ronneby","rättvik","sala","salem","sandviken","sigtuna","simrishamn","sjöbo","skara","skellefteå","skinnskatteberg","skurup","skövde","smedjebacken","sollefteå","sollentuna","solna","sorsele","sotenäs","staffanstorp","stenungsund","stockholm","storfors","storuman","strängnäs","strömstad","strömsund","sundbyberg","sundsvall","sunne","surahammar","svalöv","svedala","svenljunga","säffle","säter","sävsjö","söderhamns","söderköping","södertälje","sölvesborg","tanum","tibro","tidaholm","tierp","timrå","tingsryd","tjörn","tomelilla","torsby","torså","tranemo","tranå","trelleborg","trollhättan","trosa","tyresö","täby","töreboda","uddevalla","ulricehamns","umeå","upplands väsby","upplands-bro","uppsala","uppvidinge","vadstena","vaggeryd","valdemarsvik","vallentuna","vansbro","vara","varberg","vaxholm","vellinge","vetlanda","vilhelmina","vimmerby","vindeln","vingåker","vårgårda","vänersborg","vännäs","värmdö","värnamo","västervik","västerås","växjö","ydre","ystad","åmål","ånge","åre","årjäng","åsele","åstorp","åtvidaberg","älmhult","älvdalen","älvkarleby","älvsbyn","ängelholm","öckerö","ödeshög","örebro","örkelljunga","örnsköldsvik","östersund","österåker","östhammar","östra göinge","överkalix","övertorneå"]});var b=function(b){var c=[];return a.each(b,function(a,b){c.push(b.substr(0,1).toUpperCase()+b.substr(1,b.length))}),c.sort(),c};a.fn.suggestSwedishCounty=function(c){var d=b(a.formUtils.validators.validate_swecounty.counties);return a.formUtils.suggest(this,d,c)},a.fn.suggestSwedishMunicipality=function(c){var d=b(a.formUtils.validators.validate_swemunicipality.municipalities);return a.formUtils.suggest(this,d,c)}})(jQuery);